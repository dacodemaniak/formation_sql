CREATE DATABASE recensement;

USE recensement;

-- Table creation
CREATE TABLE region (
	id INT PRIMARY KEY,
    nom VARCHAR(100) NOT NULL UNIQUE
);

-- Insert regions
-- Insertion des régions métropolitaines
INSERT INTO region (id, nom) VALUES
(1, 'Auvergne-Rhône-Alpes'),
(2, 'Bourgogne-Franche-Comté'),
(3, 'Bretagne'),
(4, 'Centre-Val de Loire'),
(5, 'Corse'),
(6, 'Grand Est'),
(7, 'Hauts-de-France'),
(8, 'Île-de-France'),
(9, 'Normandie'),
(10, 'Nouvelle-Aquitaine'),
(11, 'Occitanie'),
(12, 'Pays de la Loire'),
(13, 'Provence-Alpes-Côte d''Azur');

-- Departement
CREATE TABLE departement (
	code_departement CHAR(2) PRIMARY KEY,
    nom VARCHAR(100) NOT NULL,
    code_region INT NOT NULL,
    FOREIGN KEY (code_region) REFERENCES region(id)
);

INSERT INTO departement (code_departement, nom, code_region) VALUES
('01', 'Ain', 1),
('02', 'Aisne', 7),
('03', 'Allier', 1),
('04', 'Alpes-de-Haute-Provence', 13),
('05', 'Hautes-Alpes', 13),
('06', 'Alpes-Maritimes', 13),
('07', 'Ardèche', 1),
('08', 'Ardennes', 6),
('09', 'Ariège', 11),
('10', 'Aube', 6),
('11', 'Aude', 11),
('12', 'Aveyron', 11),
('13', 'Bouches-du-Rhône', 13),
('14', 'Calvados', 9),
('15', 'Cantal', 1),
('16', 'Charente', 10),
('17', 'Charente-Maritime', 10),
('18', 'Cher', 4),
('19', 'Corrèze', 10),
('21', 'Côte-d''Or', 2),
('22', 'Côtes-d''Armor', 3),
('23', 'Creuse', 10),
('24', 'Dordogne', 10),
('25', 'Doubs', 2),
('26', 'Drôme', 1),
('27', 'Eure', 9),
('28', 'Eure-et-Loir', 4),
('29', 'Finistère', 3),
('2A', 'Corse-du-Sud', 5),
('2B', 'Haute-Corse', 5),
('30', 'Gard', 11),
('31', 'Haute-Garonne', 11),
('32', 'Gers', 11),
('33', 'Gironde', 10),
('34', 'Hérault', 11),
('35', 'Ille-et-Vilaine', 3),
('36', 'Indre', 4),
('37', 'Indre-et-Loire', 4),
('38', 'Isère', 1),
('39', 'Jura', 2),
('40', 'Landes', 10),
('41', 'Loir-et-Cher', 4),
('42', 'Loire', 1),
('43', 'Haute-Loire', 1),
('44', 'Loire-Atlantique', 12),
('45', 'Loiret', 4),
('46', 'Lot', 11),
('47', 'Lot-et-Garonne', 10),
('48', 'Lozère', 11),
('49', 'Maine-et-Loire', 12),
('50', 'Manche', 9),
('51', 'Marne', 6),
('52', 'Haute-Marne', 6),
('53', 'Mayenne', 12),
('54', 'Meurthe-et-Moselle', 6),
('55', 'Meuse', 6),
('56', 'Morbihan', 3),
('57', 'Moselle', 6),
('58', 'Nièvre', 2),
('59', 'Nord', 7),
('60', 'Oise', 7),
('61', 'Orne', 9),
('62', 'Pas-de-Calais', 7),
('63', 'Puy-de-Dôme', 1),
('64', 'Pyrénées-Atlantiques', 10),
('65', 'Hautes-Pyrénées', 11),
('66', 'Pyrénées-Orientales', 11),
('67', 'Bas-Rhin', 6),
('68', 'Haut-Rhin', 6),
('69', 'Rhône', 1),
('70', 'Haute-Saône', 2),
('71', 'Saône-et-Loire', 2),
('72', 'Sarthe', 12),
('73', 'Savoie', 1),
('74', 'Haute-Savoie', 1),
('75', 'Paris', 8),
('76', 'Seine-Maritime', 9),
('77', 'Seine-et-Marne', 8),
('78', 'Yvelines', 8),
('79', 'Deux-Sèvres', 10),
('80', 'Somme', 7),
('81', 'Tarn', 11),
('82', 'Tarn-et-Garonne', 11),
('83', 'Var', 13),
('84', 'Vaucluse', 13),
('85', 'Vendée', 12),
('86', 'Vienne', 10),
('87', 'Haute-Vienne', 10),
('88', 'Vosges', 6),
('89', 'Yonne', 2),
('90', 'Territoire de Belfort', 2),
('91', 'Essonne', 8),
('92', 'Hauts-de-Seine', 8),
('93', 'Seine-Saint-Denis', 8),
('94', 'Val-de-Marne', 8),
('95', 'Val-d''Oise', 8);

-- Communes
CREATE TABLE commune (
    code_insee CHAR(5) PRIMARY KEY,
    code_postal CHAR(5) NOT NULL,
    nom VARCHAR(100) NOT NULL,
    superficie FLOAT,
    population INT,
    code_departement CHAR(2),
    FOREIGN KEY (code_departement) REFERENCES departement(code_departement)
);

INSERT INTO commune (code_insee, code_postal, nom, superficie, population, code_departement) VALUES
('75056', '75001', 'Paris', 105.4, 2175601, '75'),
('13055', '13001', 'Marseille', 240.6, 870731, '13'),
('31555', '31000', 'Toulouse', 118.3, 479553, '31'),
('06088', '06000', 'Nice', 71.92, 342637, '06'),
('33063', '33000', 'Bordeaux', 49.36, 254436, '33'),
('35238', '35000', 'Rennes', 50.39, 216268, '35'),
('76351', '76600', 'Le Havre', 46.95, 170352, '76'),
('21231', '21000', 'Dijon', 40.41, 156920, '21'),
('49007', '49000', 'Angers', 42.7, 151520, '49'),
('57463', '57000', 'Metz', 41.94, 117619, '57'),
('76540', '76000', 'Rouen', 21.38, 110145, '76'),
('01053', '01000', 'Bourg-en-Bresse', 23.86, 41248, '01'),
('02408', '02000', 'Laon', 42.0, 24989, '02'),
('03190', '03000', 'Moulins', 8.61, 19287, '03'),
('04070', '04000', 'Digne-les-Bains', 117.07, 16381, '04'),
('05061', '05000', 'Gap', 110.43, 40225, '05'),
('07186', '07000', 'Privas', 30.61, 8204, '07'),
('08105', '08000', 'Charleville-Mézières', 31.44, 47847, '08'),
('09122', '09000', 'Foix', 19.32, 9721, '09'),
('10387', '10000', 'Troyes', 13.2, 61996, '10'),
('11069', '11000', 'Carcassonne', 65.08, 45941, '11'),
('12202', '12000', 'Rodez', 11.18, 23949, '12'),
('14118', '14000', 'Caen', 25.7, 105354, '14'),
('15014', '15000', 'Aurillac', 28.76, 25954, '15'),
('16015', '16000', 'Angoulême', 21.85, 41740, '16'),
('17300', '17000', 'La Rochelle', 28.43, 75735, '17'),
('18033', '18000', 'Bourges', 68.74, 64551, '18'),
('19272', '19000', 'Tulle', 24.44, 14325, '19'),
('2A004', '20000', 'Ajaccio', 82.03, 70817, '2A'),
('2B033', '20200', 'Bastia', 19.38, 47193, '2B'),
('22278', '22000', 'Saint-Brieuc', 21.88, 44372, '22'),
('23096', '23000', 'Guéret', 26.21, 12747, '23'),
('24322', '24000', 'Périgueux', 9.82, 29966, '24'),
('25056', '25000', 'Besançon', 65.05, 116466, '25'),
('26362', '26000', 'Valence', 36.69, 62150, '26'),
('27229', '27000', 'Évreux', 26.45, 47733, '27'),
('28085', '28000', 'Chartres', 16.85, 38426, '28'),
('29232', '29000', 'Quimper', 84.45, 63508, '29'),
('30189', '30000', 'Nîmes', 161.85, 151001, '30'),
('32013', '32000', 'Auch', 72.48, 21932, '32'),
('34172', '34000', 'Montpellier', 56.88, 285121, '34'),
('36044', '36000', 'Châteauroux', 25.54, 43732, '36'),
('37261', '37000', 'Tours', 34.67, 136463, '37'),
('38185', '38000', 'Grenoble', 18.13, 158180, '38'),
('39300', '39000', 'Lons-le-Saunier', 7.68, 17346, '39'),
('40192', '40000', 'Mont-de-Marsan', 36.88, 31009, '40'),
('41018', '41000', 'Blois', 37.46, 45871, '41'),
('42218', '42000', 'Saint-Étienne', 79.97, 171924, '42'),
('43157', '43000', 'Le Puy-en-Velay', 16.79, 18634, '43'),
('44109', '44000', 'Nantes', 65.19, 309346, '44'),
('45234', '45000', 'Orléans', 27.48, 116685, '45'),
('46042', '46000', 'Cahors', 64.72, 19988, '46'),
('47001', '47000', 'Agen', 11.49, 33826, '47'),
('48095', '48000', 'Mende', 36.56, 11542, '48'),
('50502', '50000', 'Saint-Lô', 23.29, 19019, '50'),
('51454', '51100', 'Reims', 46.9, 182211, '51'),
('52121', '52000', 'Chaumont', 55.26, 21847, '52'),
('53130', '53000', 'Laval', 34.2, 49573, '53'),
('54395', '54000', 'Nancy', 15.01, 104321, '54'),
('55029', '55000', 'Bar-le-Duc', 23.62, 14898, '55'),
('56260', '56000', 'Vannes', 32.3, 53352, '56'),
('58194', '58000', 'Nevers', 17.33, 33325, '58'),
('59350', '59000', 'Lille', 34.83, 232741, '59'),
('60057', '60000', 'Beauvais', 33.31, 56254, '60'),
('61001', '61000', 'Alençon', 10.68, 25775, '61'),
('62041', '62000', 'Arras', 11.63, 40970, '62'),
('63113', '63000', 'Clermont-Ferrand', 42.67, 146734, '63'),
('64445', '64000', 'Pau', 31.51, 77130, '64'),
('65440', '65000', 'Tarbes', 15.33, 40900, '65'),
('66136', '66000', 'Perpignan', 68.07, 121875, '66'),
('67482', '67000', 'Strasbourg', 78.26, 280966, '67'),
('68224', '68000', 'Colmar', 66.57, 68703, '68'),
('69123', '69001', 'Lyon', 47.87, 516092, '69'),
('70550', '70000', 'Vesoul', 9.06, 15069, '70'),
('71270', '71000', 'Mâcon', 27.04, 33456, '71'),
('72181', '72000', 'Le Mans', 52.81, 143252, '72'),
('73065', '73000', 'Chambéry', 20.99, 58833, '73'),
('74010', '74000', 'Annecy', 13.75, 126924, '74'),
('77288', '77000', 'Melun', 8.04, 40011, '77'),
('78646', '78000', 'Versailles', 26.18, 85205, '78'),
('79191', '79000', 'Niort', 68.2, 58707, '79'),
('80021', '80000', 'Amiens', 49.46, 133755, '80'),
('81004', '81000', 'Albi', 44.26, 49531, '81'),
('82121', '82000', 'Montauban', 135.17, 60952, '82'),
('83137', '83000', 'Toulon', 42.84, 171953, '83'),
('84007', '84000', 'Avignon', 64.78, 91729, '84'),
('85191', '85000', 'La Roche-sur-Yon', 87.52, 54833, '85'),
('86194', '86000', 'Poitiers', 42.11, 88291, '86'),
('87085', '87000', 'Limoges', 78.03, 131479, '87'),
('88160', '88000', 'Épinal', 59.24, 32006, '88'),
('89024', '89000', 'Auxerre', 49.95, 34843, '89'),
('90010', '90000', 'Belfort', 17.1, 46443, '90'),
('91228', '91000', 'Évry-Courcouronnes', 30.99, 67131, '91'),
('92050', '92000', 'Nanterre', 12.19, 96807, '92'),
('93008', '93000', 'Bobigny', 6.77, 54008, '93'),
('94028', '94000', 'Créteil', 11.43, 91042, '94'),
('95500', '95000', 'Cergy', 11.1, 64931, '95');
